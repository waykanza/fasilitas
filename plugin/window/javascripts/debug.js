function debug(e,t){if(debugWindow==null)return;time="-";if(t){$("debug").innerHTML=time+" "+e+"<br>"+$("debug").innerHTML;debugWindow.getContent().scrollTop=0}else{$("debug").innerHTML+=time+" "+e+"<br>";debugWindow.getContent().scrollTop=1e4}}function hideDebug(){if(debugWindow){debugWindow.destroy();debugWindow=null}}function showDebug(e){if(debugWindow==null){debugWindow=new Window("debug_window",{className:"dialog",width:250,height:100,right:4,bottom:42,zIndex:1e3,opacity:1,showEffect:Element.show,resizable:true,title:"Debug"});debugWindow.getContent().innerHTML="<style>#debug_window .dialog_content {background:#000;}</style> <div id='debug'></div>";date=new Date;date.setMonth(date.getMonth()+3)}if(typeof e=="undefined"||e)debugWindow.show()}function clearDebug(){if(debugWindow==null)return;$("debug").innerHTML=""}function $E(e){var t;if("string"==typeof e){t=document.createTextNode(e)}else{t=document.createElement(e.tag);delete e.tag;if("undefined"!=typeof e.children){if("string"==typeof e.children||"undefined"==typeof e.children.length){t.appendChild($E(e.children))}else{for(var n=0,r=null;"undefined"!=typeof (r=e.children[n]);n++){t.appendChild($E(r))}}delete e.children}for(attr in e){t[attr]=e[attr]}}return t}var debugWindow=null;var Debug={inspectOutput:function(e,t){t=t||debugWindow.getContent();if(debugWindow==null)return;t.appendChild(e)},inspect:function(e){var t=$E({tag:"div",className:"inspector"});Debug.inspectObj(e,t);debugWindow.getContent().appendChild(t)},inspectObj:function(e,t){for(prop in e){Debug.inspectOutput(Debug.inspectable(e,prop),t)}},inspectable:function(e,t){cont=$E({tag:"div",className:"inspectable",children:[t+" value: "+e[t]]});cont.toInspect=e[t];Event.observe(cont,"click",Debug.inspectClicked,false);return cont},inspectClicked:function(e){Debug.inspectContained(Event.element(e));Event.stop(e)},inspectContained:function(e){if(e.opened){e.parentNode.removeChild(e.opened);delete e.opened}else{sibling=e.parentNode.insertBefore($E({tag:"div",className:"child"}),e.nextSibling);if(e.toInspect)Debug.inspectObj(e.toInspect,sibling);e.opened=sibling}}};var inspect=Debug.inspect